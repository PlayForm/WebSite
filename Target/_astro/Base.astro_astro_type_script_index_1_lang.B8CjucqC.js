function E(){return E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},E.apply(this,arguments)}const D=t=>String(t).split(".").map((t=>String(parseInt(t||"0",10)))).concat(["0","0"]).slice(0,3).join(".");let A=class{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach((t=>t())),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return"object"!=typeof this.requires||Object.entries(this.requires).forEach((([t,e])=>{if(!function(t,e,s){const o=function(t,e){var s;if("swup"===t)return null!=(s=e.version)?s:"";{var o;const s=e.findPlugin(t);return null!=(o=s?.version)?o:""}}(t,s);return!!o&&(i=o,e.every((t=>{const[,e,s]=t.match(/^([\D]+)?(.*)$/)||[];var o,n;return((t,e)=>{const s={"":t=>0===t,">":t=>t>0,">=":t=>t>=0,"<":t=>t<0,"<=":t=>t<=0};return(s[e]||s[""])(t)})((n=s,o=D(o=i),n=D(n),o.localeCompare(n,void 0,{numeric:!0})),e||">=")})));var i}(t,e=Array.isArray(e)?e:[e],this.swup)){const s=`${t} ${e.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}})),!0}on(t,e,s={}){var o;e=!(o=e).name.startsWith("bound ")||o.hasOwnProperty("prototype")?e.bind(this):e;const i=this.swup.hooks.on(t,e,s);return this.handlersToUnregister.push(i),i}once(t,e,s={}){return this.on(t,e,E({},s,{once:!0}))}before(t,e,s={}){return this.on(t,e,E({},s,{before:!0}))}replace(t,e,s={}){return this.on(t,e,E({},s,{replace:!0}))}off(t,e){return this.swup.hooks.off(t,e)}};function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Y.apply(this,arguments)}let ot=class extends A{constructor(t={}){super(),this.name="SwupBodyClassPlugin",this.requires={swup:">=4.6"},this.defaults={prefix:""},this.options=void 0,this.updateBodyClass=t=>{this.updateClassNames(document.body,t.to.document.body)},this.options=Y({},this.defaults,t)}mount(){this.on("content:replace",this.updateBodyClass)}updateClassNames(t,e){const s=[...t.classList].filter((t=>this.isValidClassName(t))),o=[...e.classList].filter((t=>this.isValidClassName(t)));t.classList.remove(...s),t.classList.add(...o)}isValidClassName(t){return t&&t.startsWith(this.options.prefix)}};function j(){return j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},j.apply(this,arguments)}function W(t){return"title"!==t.localName&&!t.matches("[data-swup-theme]")}function F(t,e){return t.outerHTML===e.outerHTML}function it(t){return t.matches("link[rel=stylesheet][href]")}let nt=class extends A{constructor(t={}){var e;super(),e=this,this.name="SwupHeadPlugin",this.requires={swup:">=4.6"},this.defaults={persistTags:!1,persistAssets:!1,awaitAssets:!1,timeout:3e3},this.options=void 0,this.updateHead=async function(t,{page:{}}){const s=t.to.document,{removed:o,added:i}=function(t,e,{shouldPersist:s=()=>!1}={}){const o=Array.from(t.children),i=Array.from(e.children),n=(r=o,i.reduce(((t,e,s)=>(r.some((t=>F(e,t)))||t.push({el:e,index:s}),t)),[]));var r;const a=(l=i,o.reduce(((t,e)=>(l.some((t=>F(e,t)))||t.push({el:e}),t)),[]));var l;return a.reverse().filter((({el:t})=>W(t))).filter((({el:t})=>!s(t))).forEach((({el:e})=>t.removeChild(e))),n.filter((({el:t})=>W(t))).forEach((({el:e,index:s=0})=>{t.insertBefore(e.cloneNode(!0),t.children[s+1]||null)})),{removed:a.map((({el:t})=>t)),added:n.map((({el:t})=>t))}}(document.head,s.head,{shouldPersist:t=>e.isPersistentTag(t)});e.swup.log(`Removed ${o.length} / added ${i.length} tags in head`);const n=(r=document.documentElement).lang!==(a=s.documentElement).lang?(r.lang=a.lang,r.lang):null;var r,a;if(n&&e.swup.log(`Updated lang attribute: ${n}`),e.options.awaitAssets){const t=function(t,e=0){return t.filter(it).map((t=>function(t,e=0){const s=e=>{(({href:t})=>Array.from(document.styleSheets).map((({href:t})=>t)).includes(t))(t)?e():setTimeout((()=>s(e)),10)};return new Promise((t=>{s(t),e>0&&setTimeout(t,e)}))}(t,e)))}(i,e.options.timeout);t.length&&(e.swup.log(`Waiting for ${t.length} assets to load`),await Promise.all(t))}},this.options=j({},this.defaults,t),this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags="link[rel=stylesheet], script[src], style")}mount(){this.before("content:replace",this.updateHead)}isPersistentTag(t){const{persistTags:e}=this.options;return"function"==typeof e?e(t):"string"==typeof e?t.matches(e):!!e}},rt=class extends A{constructor(...t){super(...t),this._originalAnimationSelectorOption="",this._addedStyleElements=[],this._addedHTMLContent=[],this._classNameAddedToElements=[],this._addClassNameToElement=()=>{this._classNameAddedToElements.forEach((t=>{Array.from(document.querySelectorAll(t.selector)).forEach((e=>{e.classList.add(`swup-transition-${t.name}`)}))}))}}_beforeMount(){this._originalAnimationSelectorOption=String(this.swup.options.animationSelector),this.swup.options.animationSelector='[class*="swup-transition-"]',this.swup.hooks.on("content:replace",this._addClassNameToElement)}_afterUnmount(){this.swup.options.animationSelector=this._originalAnimationSelectorOption,this._addedStyleElements.forEach((t=>{t.outerHTML=""})),this._addedStyleElements=[],this._addedHTMLContent.forEach((t=>{t.outerHTML=""})),this._addedHTMLContent=[],this._classNameAddedToElements.forEach((t=>{Array.from(document.querySelectorAll(t.selector)).forEach((t=>{t.className.split(" ").forEach((e=>{new RegExp("^swup-transition-").test(e)&&t.classList.remove(e)}))}))})),this.swup.hooks.off("content:replace",this._addClassNameToElement)}applyStyles(t){const e=document.createElement("style");e.setAttribute("data-swup-theme",""),e.appendChild(document.createTextNode(t)),document.head.prepend(e),this._addedStyleElements.push(e)}applyHTML(t){const e=document.createElement("div");e.innerHTML=t,document.body.appendChild(e),this._addedHTMLContent.push(e)}addClassName(t,e){this._classNameAddedToElements.push({selector:t,name:e}),this._addClassNameToElement()}};function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)({}).hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},R.apply(null,arguments)}let at=class extends rt{constructor(t={}){if(super(),this.name="SwupOverlayTheme",this.defaults={direction:"to-right",color:void 0,duration:void 0},this.directions=["to-left","to-right","to-top","to-bottom"],this.options=R({},this.defaults,t),!this.directions.includes(this.options.direction))throw new Error(`Invalid direction: ${direction}`)}mount(){this.applyStyles("html{--swup-overlay-theme-color:#2d2e82;--swup-overlay-theme-duration:.6s;--swup-overlay-theme-delay:.2s;--swup-overlay-theme-scale:1.2;--swup-overlay-theme-skew:5deg}.swup-transition-overlay{--swup-overlay-x-scale:1;--swup-overlay-y-scale:1;--swup-overlay-skew-direction:1;--swup-overlay-width-value:calc(100vw*var(--swup-overlay-x-scale));--swup-overlay-height-value:calc(100vh*var(--swup-overlay-y-scale));--swup-overlay-transform-x-value:calc(100%*var(--swup-overlay-x-scale));--swup-overlay-transform-y-value:calc(100%*var(--swup-overlay-y-scale));--swup-overlay-top-value:calc((1 - var(--swup-overlay-y-scale))*0.5*100vh);--swup-overlay-left-value:calc((1 - var(--swup-overlay-x-scale))*0.5*100vw);--swup-overlay-bottom-value:auto;--swup-overlay-right-value:auto;--swup-overlay-skew-value:calc(var(--swup-overlay-theme-skew)*var(--swup-overlay-skew-direction));background-color:var(--swup-overlay-theme-color);bottom:var(--swup-overlay-bottom-value);height:var(--swup-overlay-height-value);left:var(--swup-overlay-left-value);opacity:0;pointer-events:none;position:fixed;right:var(--swup-overlay-right-value);top:var(--swup-overlay-top-value);width:var(--swup-overlay-width-value);z-index:9999}html.is-changing .swup-transition-overlay{opacity:1;transition:transform var(--swup-overlay-theme-duration) var(--swup-overlay-theme-delay)}.swup-transition-overlay[data-direction=to-left],.swup-transition-overlay[data-direction=to-right]{--swup-overlay-x-scale:var(--swup-overlay-theme-scale)}.swup-transition-overlay[data-direction=to-right]{transform:translate3d(calc(var(--swup-overlay-transform-x-value)*-1),0,0) skewX(var(--swup-overlay-skew-value))}html.is-animating .swup-transition-overlay[data-direction=to-right]{transform:translateZ(0) skewX(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-left],html.is-rendering .swup-transition-overlay[data-direction=to-right]{transform:translate3d(var(--swup-overlay-transform-x-value),0,0) skewX(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-left]{--swup-overlay-skew-direction:-1}html.is-animating .swup-transition-overlay[data-direction=to-left]{transform:translateZ(0) skewX(var(--swup-overlay-skew-value))}html.is-rendering .swup-transition-overlay[data-direction=to-left]{transform:translate3d(calc(var(--swup-overlay-transform-x-value)*-1),0,0) skewX(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-bottom],.swup-transition-overlay[data-direction=to-top]{--swup-overlay-y-scale:var(--swup-overlay-theme-scale)}.swup-transition-overlay[data-direction=to-bottom]{transform:translate3d(0,calc(var(--swup-overlay-transform-y-value)*-1),0) skewY(var(--swup-overlay-skew-value))}html.is-animating .swup-transition-overlay[data-direction=to-bottom]{transform:translateZ(0) skewY(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-top],html.is-rendering .swup-transition-overlay[data-direction=to-bottom]{transform:translate3d(0,var(--swup-overlay-transform-y-value),0) skewY(var(--swup-overlay-skew-value))}.swup-transition-overlay[data-direction=to-top]{--swup-overlay-skew-direction:-1}html.is-animating .swup-transition-overlay[data-direction=to-top]{transform:translateZ(0) skewY(var(--swup-overlay-skew-value))}html.is-rendering .swup-transition-overlay[data-direction=to-top]{transform:translate3d(0,calc(var(--swup-overlay-transform-y-value)*-1),0) skewY(var(--swup-overlay-skew-value))}"),this.applyHTML(this.createOverlay())}createOverlay(){const{direction:t}=this.options;return`\n\t\t\t<div\n\t\t\t\tclass="swup-transition-overlay"\n\t\t\t\tdata-direction="${t}"\n\t\t\t\tstyle="--swup-overlay-theme-color:${void 0!==this.options.color?this.options.color:"inherit"};--swup-overlay-theme-duration:${void 0!==this.options.duration?`${this.options.duration}ms`:"inherit"};"\n\t\t\t></div>\n\t\t`}};const V=new WeakMap;function q(t,e,s,o){if(!t&&!V.has(e))return!1;const i=V.get(e)??new WeakMap;V.set(e,i);const n=i.get(s)??new Set;i.set(s,n);const r=n.has(o);return t?n.add(o):n.delete(o),r&&t}function lt(t,e){let s=t.target;if(s instanceof Text&&(s=s.parentElement),s instanceof Element&&t.currentTarget instanceof Element){const o=s.closest(e);if(o&&t.currentTarget.contains(o))return o}}function ct(t,e,s,o={}){const{signal:i,base:n=document}=o;if(i?.aborted)return;const{once:r,...a}=o,l=n instanceof Document?n.documentElement:n,c=!!("object"==typeof o?o.capture:o),h=o=>{const i=lt(o,t);if(i){const t=Object.assign(o,{delegateTarget:i});s.call(l,t),r&&(l.removeEventListener(e,h,a),q(!1,l,s,u))}},u=JSON.stringify({selector:t,type:e,capture:c});q(!0,l,s,u)||l.addEventListener(e,h,a),i?.addEventListener("abort",(()=>{q(!1,l,s,u)}))}function y(){return y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)({}).hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},y.apply(null,arguments)}const J=(t,e)=>String(t).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",S=({hash:t}={})=>window.location.pathname+window.location.search+(t?window.location.hash:""),ht=(t,e={})=>{const s=y({url:t=t||S({hash:!0}),random:Math.random(),source:"swup"},e);window.history.pushState(s,"",t)},P=(t=null,e={})=>{t=t||S({hash:!0});const s=y({},window.history.state||{},{url:t,random:Math.random(),source:"swup"},e);window.history.replaceState(s,"",t)},ut=(t,e,s,o)=>{const i=new AbortController;return ct(t,e,s,o=y({},o,{signal:i.signal})),{destroy:()=>i.abort()}};let k=class t extends URL{constructor(e,s=document.baseURI){super(e.toString(),s),Object.setPrototypeOf(this,t.prototype)}get url(){return this.pathname+this.search}static fromElement(e){const s=e.getAttribute("href")||e.getAttribute("xlink:href")||"";return new t(s)}static fromUrl(e){return new t(e)}};class C extends Error{constructor(t,e){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=e.url,this.status=e.status,this.aborted=e.aborted||!1,this.timedOut=e.timedOut||!1}}async function dt(t,e={}){var s;t=k.fromUrl(t).url;const{visit:o=this.visit}=e,i=y({},this.options.requestHeaders,e.headers),n=null!=(s=e.timeout)?s:this.options.timeout,r=new AbortController,{signal:a}=r;e=y({},e,{headers:i,signal:a});let l,c=!1,h=null;n&&n>0&&(h=setTimeout((()=>{c=!0,r.abort("timeout")}),n));try{l=await this.hooks.call("fetch:request",o,{url:t,options:e},((t,{url:e,options:s})=>fetch(e,s))),h&&clearTimeout(h)}catch(e){throw c?(this.hooks.call("fetch:timeout",o,{url:t}),new C(`Request timed out: ${t}`,{url:t,timedOut:c})):"AbortError"===e?.name||a.aborted?new C(`Request aborted: ${t}`,{url:t,aborted:!0}):e}const{status:u,url:d}=l,p=await l.text();if(500===u)throw this.hooks.call("fetch:error",o,{status:u,response:l,url:d}),new C(`Server error: ${d}`,{status:u,url:d});if(!p)throw new C(`Empty response: ${d}`,{status:u,url:d});const{url:m}=k.fromUrl(d),v={url:m,html:p};return!o.cache.write||e.method&&"GET"!==e.method||t!==m||this.cache.set(v.url,v),v}class pt{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach(((e,s)=>{t.set(s,y({},e))})),t}has(t){return this.pages.has(this.resolve(t))}get(t){const e=this.pages.get(this.resolve(t));return e&&y({},e)}set(t,e){e=y({},e,{url:t=this.resolve(t)}),this.pages.set(t,e),this.swup.hooks.callSync("cache:set",void 0,{page:e})}update(t,e){t=this.resolve(t);const s=y({},this.get(t),e,{url:t});this.pages.set(t,s)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(t){this.pages.forEach(((e,s)=>{t(s,e)&&this.delete(s)}))}resolve(t){const{url:e}=k.fromUrl(t);return this.swup.resolveUrl(e)}}const N=(t,e=document)=>e.querySelector(t),T=(t,e=document)=>Array.from(e.querySelectorAll(t)),Q=()=>new Promise((t=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{t()}))}))}));function tt(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}function mt(t,e=[]){return new Promise(((s,o)=>{const i=t(...e);tt(i)?i.then(s,o):s(i)}))}function X(t,e){const s=t?.closest(`[${e}]`);return null!=s&&s.hasAttribute(e)?s?.getAttribute(e)||!0:void 0}class ft{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return"containers"===t?this.swup.visit.containers:"html"===t?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?T(this.selector):[]}add(...t){this.targets.forEach((e=>e.classList.add(...t)))}remove(...t){this.targets.forEach((e=>e.classList.remove(...t)))}clear(){this.targets.forEach((t=>{const e=t.className.split(" ").filter((t=>this.isSwupClass(t)));t.classList.remove(...e)}))}isSwupClass(t){return this.swupClasses.some((e=>t.startsWith(e)))}}class et{constructor(t,e){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0;const{to:s,from:o,hash:i,el:n,event:r}=e;this.id=Math.random(),this.state=1,this.from={url:o??t.location.url,hash:t.location.hash},this.to={url:s,hash:i},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:n,event:r},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}}function vt(t){return new et(this,t)}class wt{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach((t=>this.create(t)))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const e=this.registry.get(t);if(e)return e;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach((t=>t.clear()))}on(t,e,s={}){const o=this.get(t);if(!o)return console.warn(`Hook '${t}' not found.`),()=>{};const i=y({},s,{id:o.size+1,hook:t,handler:e});return o.set(e,i),()=>this.off(t,e)}before(t,e,s={}){return this.on(t,e,y({},s,{before:!0}))}replace(t,e,s={}){return this.on(t,e,y({},s,{replace:!0}))}once(t,e,s={}){return this.on(t,e,y({},s,{once:!0}))}off(t,e){const s=this.get(t);s&&e?s.delete(e)||console.warn(`Handler for hook '${t}' not found.`):s&&s.clear()}async call(t,e,s,o){const[i,n,r]=this.parseCallArgs(t,e,s,o),{before:a,handler:l,after:c}=this.getHandlers(t,r);await this.run(a,i,n);const[h]=await this.run(l,i,n,!0);return await this.run(c,i,n),this.dispatchDomEvent(t,i,n),h}callSync(t,e,s,o){const[i,n,r]=this.parseCallArgs(t,e,s,o),{before:a,handler:l,after:c}=this.getHandlers(t,r);this.runSync(a,i,n);const[h]=this.runSync(l,i,n,!0);return this.runSync(c,i,n),this.dispatchDomEvent(t,i,n),h}parseCallArgs(t,e,s,o){return e instanceof et||"object"!=typeof e&&"function"!=typeof s?[e,s,o]:[void 0,e,s]}async run(t,e=this.swup.visit,s,o=!1){const i=[];for(const{hook:n,handler:r,defaultHandler:a,once:l}of t)if(null==e||!e.done){l&&this.off(n,r);try{const t=await mt(r,[e,s,a]);i.push(t)}catch(t){if(o)throw t;console.error(`Error in hook '${n}':`,t)}}return i}runSync(t,e=this.swup.visit,s,o=!1){const i=[];for(const{hook:n,handler:r,defaultHandler:a,once:l}of t)if(null==e||!e.done){l&&this.off(n,r);try{const t=r(e,s,a);i.push(t),tt(t)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${n}'.`)}catch(t){if(o)throw t;console.error(`Error in hook '${n}':`,t)}}return i}getHandlers(t,e){const s=this.get(t);if(!s)return{found:!1,before:[],handler:[],after:[],replaced:!1};const o=Array.from(s.values()),i=this.sortRegistrations,n=o.filter((({before:t,replace:e})=>t&&!e)).sort(i),r=o.filter((({replace:t})=>t)).filter((t=>!0)).sort(i),a=o.filter((({before:t,replace:e})=>!t&&!e)).sort(i),l=r.length>0;let c=[];if(e&&(c=[{id:0,hook:t,handler:e}],l)){const s=r.length-1,o=t=>{const s=r[t-1];return s?(e,i)=>s.handler(e,i,o(t-1)):e};c=[{id:0,hook:t,handler:r[s].handler,defaultHandler:o(s)}]}return{found:!0,before:n,handler:c,after:a,replaced:l}}sortRegistrations(t,e){var s,o;return(null!=(s=t.priority)?s:0)-(null!=(o=e.priority)?o:0)||t.id-e.id||0}dispatchDomEvent(t,e,s){if(null!=e&&e.done)return;const o={hook:t,args:s,visit:e||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:o,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:o,bubbles:!0}))}}const gt=t=>{if(t&&"#"===t.charAt(0)&&(t=t.substring(1)),!t)return null;const e=decodeURIComponent(t);let s=document.getElementById(t)||document.getElementById(e)||N(`a[name='${CSS.escape(t)}']`)||N(`a[name='${CSS.escape(e)}']`);return s||"top"!==t||(s=document.body),s},O="transition",M="animation";async function yt({selector:t,elements:e}){if(!1===t&&!e)return;let s=[];if(e)s=Array.from(e);else if(t&&(s=T(t,document.body),!s.length))return void console.warn(`[swup] No elements found matching animationSelector \`${t}\``);const o=s.map((t=>function(t){const{type:e,timeout:s,propCount:o}=function(t){const e=window.getComputedStyle(t),s=$(e,`${O}Delay`),o=$(e,`${O}Duration`),i=z(s,o),n=$(e,`${M}Delay`),r=$(e,`${M}Duration`),a=z(n,r),l=Math.max(i,a),c=l>0?i>a?O:M:null;return{type:c,timeout:l,propCount:c?c===O?o.length:r.length:0}}(t);return!(!e||!s)&&new Promise((i=>{const n=`${e}end`,r=performance.now();let a=0;const l=()=>{t.removeEventListener(n,c),i()},c=e=>{e.target===t&&((performance.now()-r)/1e3<e.elapsedTime||++a>=o&&l())};setTimeout((()=>{a<o&&l()}),s+1),t.addEventListener(n,c)}))}(t)));o.filter(Boolean).length>0?await Promise.all(o):t&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${t}\``)}function $(t,e){return(t[e]||"").split(", ")}function z(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,s)=>K(e)+K(t[s]))))}function K(t){return 1e3*parseFloat(t)}function kt(t,e={},s={}){if("string"!=typeof t)throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(t,{el:s.el,event:s.event}))return void window.location.assign(t);const{url:o,hash:i}=k.fromUrl(t),n=this.createVisit(y({},s,{to:o,hash:i}));this.performNavigation(n,e)}async function bt(t,e={}){if(this.navigating){if(this.visit.state>=6)return t.state=2,void(this.onVisitEnd=()=>this.performNavigation(t,e));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=t;const{el:s}=t.trigger;e.referrer=e.referrer||this.location.url,!1===e.animate&&(t.animation.animate=!1),t.animation.animate||this.classes.clear();const o=e.history||X(s,"data-swup-history");"string"==typeof o&&["push","replace"].includes(o)&&(t.history.action=o);const i=e.animation||X(s,"data-swup-animation");var n,r;"string"==typeof i&&(t.animation.name=i),"object"==typeof e.cache?(t.cache.read=null!=(n=e.cache.read)?n:t.cache.read,t.cache.write=null!=(r=e.cache.write)?r:t.cache.write):void 0!==e.cache&&(t.cache={read:!!e.cache,write:!!e.cache}),delete e.cache;try{await this.hooks.call("visit:start",t,void 0),t.state=3;const s=this.hooks.call("page:load",t,{options:e},(async(t,e)=>{let s;return t.cache.read&&(s=this.cache.get(t.to.url)),e.page=s||await this.fetchPage(t.to.url,e.options),e.cache=!!s,e.page}));s.then((({html:e})=>{t.advance(5),t.to.html=e,t.to.document=(new DOMParser).parseFromString(e,"text/html")}));const o=t.to.url+t.to.hash;if(t.history.popstate||("replace"===t.history.action||t.to.url===this.location.url?P(o):(this.currentHistoryIndex++,ht(o,{index:this.currentHistoryIndex}))),this.location=k.fromUrl(o),t.history.popstate&&this.classes.add("is-popstate"),t.animation.name&&this.classes.add(`to-${J(t.animation.name)}`),t.animation.wait&&await s,t.done||(await this.hooks.call("visit:transition",t,void 0,(async()=>{if(!t.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(t,await s);t.advance(4),await this.animatePageOut(t),t.animation.native&&document.startViewTransition?await document.startViewTransition((async()=>await this.renderPage(t,await s))).finished:await this.renderPage(t,await s),await this.animatePageIn(t)})),t.done))return;await this.hooks.call("visit:end",t,void 0,(()=>this.classes.clear())),t.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(e){if(!e||null!=e&&e.aborted)return void(t.state=8);t.state=9,console.error(e),this.options.skipPopStateHandling=()=>(window.location.assign(t.to.url+t.to.hash),!0),window.history.back()}finally{delete t.to.document}}const St=async function(t){await this.hooks.call("animation:out:start",t,void 0,(()=>{this.classes.add("is-changing","is-animating","is-leaving")})),await this.hooks.call("animation:out:await",t,{skip:!1},((t,{skip:e})=>{if(!e)return this.awaitAnimations({selector:t.animation.selector})})),await this.hooks.call("animation:out:end",t,void 0)},Et=function(t){var e;const s=t.to.document;if(!s)return!1;const o=(null==(e=s.querySelector("title"))?void 0:e.innerText)||"";document.title=o;const i=T('[data-swup-persist]:not([data-swup-persist=""])'),n=t.containers.map((t=>{const e=document.querySelector(t),o=s.querySelector(t);return e&&o?(e.replaceWith(o.cloneNode(!0)),!0):(e||console.warn(`[swup] Container missing in current document: ${t}`),o||console.warn(`[swup] Container missing in incoming document: ${t}`),!1)})).filter(Boolean);return i.forEach((t=>{const e=t.getAttribute("data-swup-persist"),s=N(`[data-swup-persist="${e}"]`);s&&s!==t&&s.replaceWith(t)})),n.length===t.containers.length},Pt=function(t){const e={behavior:"auto"},{target:s,reset:o}=t.scroll,i=s??t.to.hash;let n=!1;return i&&(n=this.hooks.callSync("scroll:anchor",t,{hash:i,options:e},((t,{hash:e,options:s})=>{const o=this.getAnchorElement(e);return o&&o.scrollIntoView(s),!!o}))),o&&!n&&(n=this.hooks.callSync("scroll:top",t,{options:e},((t,{options:e})=>(window.scrollTo(y({top:0,left:0},e)),!0)))),n},Tt=async function(t){if(t.done)return;const e=this.hooks.call("animation:in:await",t,{skip:!1},((t,{skip:e})=>{if(!e)return this.awaitAnimations({selector:t.animation.selector})}));await Q(),await this.hooks.call("animation:in:start",t,void 0,(()=>{this.classes.remove("is-animating")})),await e,await this.hooks.call("animation:in:end",t,void 0)},At=async function(t,e){if(t.done)return;t.advance(6);const{url:s}=e;this.isSameResolvedUrl(S(),s)||(P(s),this.location=k.fromUrl(s),t.to.url=this.location.url,t.to.hash=this.location.hash),await this.hooks.call("content:replace",t,{page:e},((t,{})=>{if(this.classes.remove("is-leaving"),t.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(t))throw new Error("[swup] Container mismatch, aborting");t.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),t.animation.name&&this.classes.add(`to-${J(t.animation.name)}`))})),await this.hooks.call("content:scroll",t,void 0,(()=>this.scrollToContent(t))),await this.hooks.call("page:view",t,{url:this.location.url,title:document.title})},_t=function(t){var e;if(e=t,e?.isSwupPlugin){if(t.swup=this,!t._checkRequirements||t._checkRequirements())return t._beforeMount&&t._beforeMount(),t.mount(),this.plugins.push(t),this.plugins}else console.error("Not a swup plugin instance",t)};function Lt(t){const e=this.findPlugin(t);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter((t=>t!==e)),this.plugins;console.error("No such plugin",e)}function Ct(t){return this.plugins.find((e=>e===t||e.name===t||e.name===`Swup${String(t)}`))}function Ot(t){if("function"!=typeof this.options.resolveUrl)return console.warn("[swup] options.resolveUrl expects a callback function."),t;const e=this.options.resolveUrl(t);return e&&"string"==typeof e?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),t):e:(console.warn("[swup] options.resolveUrl needs to return a url"),t)}function $t(t,e){return this.resolveUrl(t)===this.resolveUrl(e)}const xt={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],ignoreVisit:(t,{el:e}={})=>!(null==e||!e.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:t=>t,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:t=>{var e;return"swup"!==(null==(e=t.state)?void 0:e.source)},timeout:0};class Ht{get currentPageUrl(){return this.location.url}constructor(t={}){var e,s;this.version="4.7.0",this.options=void 0,this.defaults=xt,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=k.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=_t,this.unuse=Lt,this.findPlugin=Ct,this.log=()=>{},this.navigate=kt,this.performNavigation=bt,this.createVisit=vt,this.delegateEvent=ut,this.fetchPage=dt,this.awaitAnimations=yt,this.renderPage=At,this.replaceContent=Et,this.animatePageIn=Tt,this.animatePageOut=St,this.scrollToContent=Pt,this.getAnchorElement=gt,this.getCurrentUrl=S,this.resolveUrl=Ot,this.isSameResolvedUrl=$t,this.options=y({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new pt(this),this.classes=new ft(this),this.hooks=new wt(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=null!=(e=null==(s=window.history.state)?void 0:s.index)?e:1,this.enable()}async enable(){var t;const{linkSelector:e}=this.options;this.clickDelegate=this.delegateEvent(e,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach((t=>this.use(t))),"swup"!==(null==(t=window.history.state)?void 0:t.source)&&P(null,{index:this.currentHistoryIndex}),await Q(),await this.hooks.call("enable",void 0,void 0,(()=>{const t=document.documentElement;t.classList.add("swup-enabled"),t.classList.toggle("swup-native",this.options.native)}))}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach((t=>this.unuse(t))),await this.hooks.call("disable",void 0,void 0,(()=>{const t=document.documentElement;t.classList.remove("swup-enabled"),t.classList.remove("swup-native")})),this.hooks.clear()}shouldIgnoreVisit(t,{el:e,event:s}={}){const{origin:o,url:i,hash:n}=k.fromUrl(t);return o!==window.location.origin||!(!e||!this.triggerWillOpenNewWindow(e))||!!this.options.ignoreVisit(i+n,{el:e,event:s})}handleLinkClick(t){const e=t.delegateTarget,{href:s,url:o,hash:i}=k.fromElement(e);if(this.shouldIgnoreVisit(s,{el:e,event:t}))return;if(this.navigating&&o===this.visit.to.url)return void t.preventDefault();const n=this.createVisit({to:o,hash:i,el:e,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync("link:newtab",n,{href:s}):0===t.button&&this.hooks.callSync("link:click",n,{el:e,event:t},(()=>{var e;const s=null!=(e=n.from.url)?e:"";t.preventDefault(),o&&o!==s?this.isSameResolvedUrl(o,s)||this.performNavigation(n):i?this.hooks.callSync("link:anchor",n,{hash:i},(()=>{P(o+i),this.scrollToContent(n)})):this.hooks.callSync("link:self",n,void 0,(()=>{"navigate"===this.options.linkToSelf?this.performNavigation(n):(P(o),this.scrollToContent(n))}))}))}handlePopState(t){var e,s,o,i;const n=null!=(e=null==(s=t.state)?void 0:s.url)?e:window.location.href;if(this.options.skipPopStateHandling(t)||this.isSameResolvedUrl(S(),this.location.url))return;const{url:r,hash:a}=k.fromUrl(n),l=this.createVisit({to:r,hash:a,event:t});l.history.popstate=!0;const c=null!=(o=null==(i=t.state)?void 0:i.index)?o:0;c&&c!==this.currentHistoryIndex&&(l.history.direction=c-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=c),l.animation.animate=!1,l.scroll.reset=!1,l.scroll.target=!1,this.options.animateHistoryBrowsing&&(l.animation.animate=!0,l.scroll.reset=!0),this.hooks.callSync("history:popstate",l,{event:t},(()=>{this.performNavigation(l)}))}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}}function U(){return U=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},U.apply(this,arguments)}function Z(){return window.matchMedia("(hover: hover)").matches}function x(t){return!!t&&(t instanceof HTMLAnchorElement||t instanceof SVGAElement)}const G=window.requestIdleCallback||(t=>setTimeout(t,1)),Ut=["preloadVisibleLinks"];let Vt=class extends A{constructor(t={}){var e;super(),e=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(t,e,s)=>{const{url:o}=t.to;return o&&this.preloadPromises.has(o)?this.preloadPromises.get(o):s(t,e)},this.onMouseEnter=async function(t){if(t.target!==t.delegateTarget||!Z())return;const s=t.delegateTarget;if(!x(s))return;const{url:o,hash:i}=k.fromElement(s),n=e.swup.createVisit({to:o,hash:i,el:s,event:t});e.swup.hooks.callSync("link:hover",n,{el:s,event:t}),e.preload(s,{priority:!0})},this.onTouchStart=t=>{if(Z())return;const e=t.delegateTarget;x(e)&&this.preload(e,{priority:!0})},this.onFocus=t=>{const e=t.delegateTarget;x(e)&&this.preload(e,{priority:!0})};const{preloadVisibleLinks:s}=t,o=function(t,e){if(null==t)return{};var s,o,i={},n=Object.keys(t);for(o=0;o<n.length;o++)e.indexOf(s=n[o])>=0||(i[s]=t[s]);return i}(t,Ut);this.options=U({},this.defaults,o),"object"==typeof s?this.options.preloadVisibleLinks=U({},this.options.preloadVisibleLinks,{enabled:!0},s):this.options.preloadVisibleLinks.enabled=!!s,this.preload=this.preload.bind(this),this.queue=function(t=1){const e=[],s=[];let o=0,i=0;function n(){i<t&&o>0&&((s.shift()||e.shift()||(()=>{}))(),o--,i++)}return{add:function(t,i=!1){if(t.__queued){if(!i)return;{const s=e.indexOf(t);if(s>=0){const t=e.splice(s,1);o-=t.length}}}t.__queued=!0,(i?s:e).push(t),o++,o<=1&&n()},next:function(){i--,n()}}}(this.options.throttle)}mount(){const t=this.swup;t.options.cache?(t.hooks.create("page:preload"),t.hooks.create("link:hover"),t.preload=this.preload,t.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",(()=>this.preloadLinks())),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",(()=>this.preloadVisibleLinks()))),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(S())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var t,e,s;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),null==(t=this.mouseEnterDelegate)||t.destroy(),null==(e=this.touchStartDelegate)||e.destroy(),null==(s=this.focusDelegate)||s.destroy(),this.stopPreloadingVisibleLinks()}async preload(t,e={}){var s;let o,i;const n=null!=(s=e.priority)&&s;if(Array.isArray(t))return Promise.all(t.map((t=>this.preload(t))));if(x(t))i=t,({href:o}=k.fromElement(t));else{if("string"!=typeof t)return;o=t}if(!o)return;if(this.preloadPromises.has(o))return this.preloadPromises.get(o);if(!this.shouldPreload(o,{el:i}))return;const r=new Promise((t=>{this.queue.add((()=>{this.performPreload(o).catch((()=>{})).then((e=>t(e))).finally((()=>{this.queue.next(),this.preloadPromises.delete(o)}))}),n)}));return this.preloadPromises.set(o,r),r}preloadLinks(){G((()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach((t=>this.preload(t)))}))}preloadLinksOnAttention(){const{swup:t}=this,{linkSelector:e}=t.options,s={passive:!0,capture:!0};this.mouseEnterDelegate=t.delegateEvent(e,"mouseenter",this.onMouseEnter,s),this.touchStartDelegate=t.delegateEvent(e,"touchstart",this.onTouchStart,s),this.focusDelegate=t.delegateEvent(e,"focus",this.onFocus,s)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:t,delay:e,containers:s}=this.options.preloadVisibleLinks;this.preloadObserver=function({threshold:t,delay:e,containers:s,callback:o,filter:i}){const n=new Map,r=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?a(t.target):l(t.target)}))}),{threshold:t}),a=t=>{var s;const{href:i}=k.fromElement(t),a=null!=(s=n.get(i))?s:new Set;n.set(i,a),a.add(t),setTimeout((()=>{const e=n.get(i);null!=e&&e.size&&(o(t),r.unobserve(t),e.delete(t))}),e)},l=t=>{var e;const{href:s}=k.fromElement(t);null==(e=n.get(s))||e.delete(t)},c=()=>{G((()=>{const t=s.map((t=>`${t} a[*|href]`)).join(", ");Array.from(document.querySelectorAll(t)).filter((t=>i(t))).forEach((t=>r.observe(t)))}))};return{start:()=>c(),stop:()=>r.disconnect(),update:()=>(n.clear(),c())}}({threshold:t,delay:e,containers:s,callback:t=>this.preload(t),filter:t=>{if(this.options.preloadVisibleLinks.ignore(t)||!t.matches(this.swup.options.linkSelector))return!1;const{href:e}=k.fromElement(t);return this.shouldPreload(e,{el:t})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(t,{el:e}={}){const{url:s,href:o}=k.fromUrl(t);return!(!function(){var t;if(navigator.connection&&(navigator.connection.saveData||null!=(t=navigator.connection.effectiveType)&&t.endsWith("2g")))return!1;return!0}()||this.swup.cache.has(s)||this.preloadPromises.has(s)||this.swup.shouldIgnoreVisit(o,{el:e})||e&&this.swup.resolveUrl(s)===this.swup.resolveUrl(S()))}async performPreload(t){var e=this;const{url:s}=k.fromUrl(t),o=this.swup.createVisit({to:s});return await this.swup.hooks.call("page:preload",o,{url:s},(async function(s,o){return o.page=await e.swup.fetchPage(t,{visit:s}),o.page}))}};function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},I.apply(this,arguments)}class qt{constructor(t){this._raf=null,this._positionY=0,this._velocityY=0,this._targetPositionY=0,this._targetPositionYWithOffset=0,this._direction=0,this.scrollTo=t=>{if(t&&t.nodeType)this._targetPositionY=Math.round(t.getBoundingClientRect().top+window.pageYOffset);else{if(parseInt(this._targetPositionY)!==this._targetPositionY)return void console.error("Argument must be a number or an element.");this._targetPositionY=Math.round(t)}this._targetPositionY>document.documentElement.scrollHeight-window.innerHeight&&(this._targetPositionY=document.documentElement.scrollHeight-window.innerHeight),this._positionY=document.body.scrollTop||document.documentElement.scrollTop,this._direction=this._positionY>this._targetPositionY?-1:1,this._targetPositionYWithOffset=this._targetPositionY+this._direction,this._velocityY=0,this._positionY!==this._targetPositionY?(this.options.onStart(),this._animate()):this.options.onAlreadyAtPositions()},this._animate=()=>{this._update(),this._render(),1===this._direction&&this._targetPositionY>this._positionY||-1===this._direction&&this._targetPositionY<this._positionY?(this._raf=requestAnimationFrame(this._animate),this.options.onTick()):(this._positionY=this._targetPositionY,this._render(),this._raf=null,this.options.onTick(),this.options.onEnd())},this._update=()=>{const t=this._targetPositionYWithOffset-this._positionY;return this._velocityY+=t*this.options.acceleration,this._velocityY*=this.options.friction,this._positionY+=this._velocityY,Math.abs(t)},this._render=()=>{window.scrollTo(0,this._positionY)},this.options=I({},{onAlreadyAtPositions:()=>{},onCancel:()=>{},onEnd:()=>{},onStart:()=>{},onTick:()=>{},friction:.7,acceleration:.04},t),t&&t.friction&&(this.options.friction=1-t.friction),window.addEventListener("mousewheel",(t=>{this._raf&&(this.options.onCancel(),cancelAnimationFrame(this._raf),this._raf=null)}),{passive:!0})}}function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},B.apply(this,arguments)}class Mt extends A{constructor(t={}){super(),this.name="SwupScrollPlugin",this.requires={swup:">=4.2.0"},this.scrl=void 0,this.defaults={doScrollingRightAway:!1,animateScroll:{betweenPages:!0,samePageWithHash:!0,samePage:!0},scrollFriction:.3,scrollAcceleration:.04,getAnchorElement:void 0,offset:0,scrollContainers:"[data-swup-scroll-container]",shouldResetScrollPosition:()=>!0,markScrollTarget:!1},this.options=void 0,this.cachedScrollPositions={},this.previousScrollRestoration=void 0,this.currentCacheKey=void 0,this.getAnchorElement=(t="")=>"function"==typeof this.options.getAnchorElement?this.options.getAnchorElement(t):this.swup.getAnchorElement(t),this.getOffset=t=>t?"function"==typeof this.options.offset?parseInt(String(this.options.offset(t)),10):parseInt(String(this.options.offset),10):0,this.onBeforeLinkToSelf=t=>{t.scroll.animate=this.shouldAnimate("samePage")},this.handleScrollToTop=t=>{var e,s;return null==(e=(s=this.swup).scrollTo)||e.call(s,0,t.scroll.animate),!0},this.onBeforeLinkToAnchor=t=>{t.scroll.animate=this.shouldAnimate("samePageWithHash")},this.handleScrollToAnchor=(t,{hash:e})=>this.maybeScrollToAnchor(e,t.scroll.animate),this.onBeforeVisitStart=t=>{t.scroll.scrolledToContent=!1,t.scroll.animate=this.shouldAnimate("betweenPages")},this.onVisitStart=t=>{var e;this.cacheScrollPositions(t.from.url),this.maybeResetScrollPositions(t);const s=null!=(e=t.scroll.target)?e:t.to.hash;t.scroll.animate&&this.options.doScrollingRightAway&&!s&&this.doScrollingBetweenPages(t)},this.handleScrollToContent=t=>{t.scroll.scrolledToContent||this.doScrollingBetweenPages(t),this.restoreScrollContainers(t.to.url)},this.doScrollingBetweenPages=t=>{var e,s;if(t.history.popstate&&!t.animation.animate)return;const o=null!=(e=t.scroll.target)?e:t.to.hash;if(o&&this.maybeScrollToAnchor(o,t.scroll.animate)||!t.scroll.reset)return;const i=this.getCachedScrollPositions(t.to.url),n=(null==i||null==(s=i.window)?void 0:s.top)||0;requestAnimationFrame((()=>{var e,s;return null==(e=(s=this.swup).scrollTo)?void 0:e.call(s,n,t.scroll.animate)})),t.scroll.scrolledToContent=!0},this.maybeResetScrollPositions=t=>{const{popstate:e}=t.history,{url:s}=t.to,{el:o}=t.trigger;e||o&&!this.options.shouldResetScrollPosition(o)||this.resetScrollPositions(s)},this.options=B({},this.defaults,t)}mount(){const t=this.swup;t.hooks.create("scroll:start"),t.hooks.create("scroll:end");const e=this.swup.createVisit({to:this.swup.currentPageUrl});this.scrl=new qt({onStart:()=>t.hooks.callSync("scroll:start",e,void 0),onEnd:()=>t.hooks.callSync("scroll:end",e,void 0),onCancel:()=>t.hooks.callSync("scroll:end",e,void 0),friction:this.options.scrollFriction,acceleration:this.options.scrollAcceleration}),t.scrollTo=(s,o=!0)=>{o?this.scrl.scrollTo(s):(t.hooks.callSync("scroll:start",e,void 0),window.scrollTo(0,s),t.hooks.callSync("scroll:end",e,void 0))},this.previousScrollRestoration=window.history.scrollRestoration,t.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.updateScrollTarget=this.updateScrollTarget.bind(this),this.options.markScrollTarget&&(window.addEventListener("popstate",this.updateScrollTarget),window.addEventListener("hashchange",this.updateScrollTarget),this.on("page:view",this.updateScrollTarget),this.on("link:anchor",this.updateScrollTarget),this.on("link:self",this.updateScrollTarget),this.updateScrollTarget()),this.before("visit:start",this.onBeforeVisitStart,{priority:-1}),this.on("visit:start",this.onVisitStart,{priority:1}),this.replace("content:scroll",this.handleScrollToContent),this.before("link:self",this.onBeforeLinkToSelf,{priority:-1}),this.replace("scroll:top",this.handleScrollToTop),this.before("link:anchor",this.onBeforeLinkToAnchor,{priority:-1}),this.replace("scroll:anchor",this.handleScrollToAnchor)}unmount(){super.unmount(),this.previousScrollRestoration&&(window.history.scrollRestoration=this.previousScrollRestoration),window.removeEventListener("popstate",this.updateScrollTarget),window.removeEventListener("hashchange",this.updateScrollTarget),this.cachedScrollPositions={},delete this.swup.scrollTo,delete this.scrl}shouldAnimate(t){return"boolean"==typeof this.options.animateScroll?this.options.animateScroll:this.options.animateScroll[t]}maybeScrollToAnchor(t,e=!1){var s,o;if(!t)return!1;const i=this.getAnchorElement(t);if(!i)return console.warn(`Anchor target ${t} not found`),!1;if(!(i instanceof Element))return console.warn(`Anchor target ${t} is not a DOM node`),!1;const{top:n}=i.getBoundingClientRect(),r=n+window.scrollY-this.getOffset(i);return null==(s=(o=this.swup).scrollTo)||s.call(o,r,e),!0}cacheScrollPositions(t){const e=this.swup.resolveUrl(t),s=T(this.options.scrollContainers).map((t=>({top:t.scrollTop,left:t.scrollLeft}))),o={window:{top:window.scrollY,left:window.scrollX},containers:s};this.cachedScrollPositions[e]=o}resetScrollPositions(t){const e=this.swup.resolveUrl(t);delete this.cachedScrollPositions[e]}getCachedScrollPositions(t){const e=this.swup.resolveUrl(t);return this.cachedScrollPositions[e]}restoreScrollContainers(t){const e=this.getCachedScrollPositions(t);e&&0!==e.containers.length&&T(this.options.scrollContainers).forEach(((t,s)=>{const o=e.containers[s];null!=o&&(t.scrollTop=o.top,t.scrollLeft=o.left)}))}updateScrollTarget(){var t;const{hash:e}=window.location,s=document.querySelector("[data-swup-scroll-target]");let o=this.getAnchorElement(e);o instanceof HTMLBodyElement&&(o=null),s!==o&&(s?.removeAttribute("data-swup-scroll-target"),null==(t=o)||t.setAttribute("data-swup-scroll-target",""))}}new Ht({containers:["#footer","#main","#header"],plugins:[new at,new nt,new Vt,new Mt,new ot]});